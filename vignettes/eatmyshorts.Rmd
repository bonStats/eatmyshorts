---
title: "eatmyshorts"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{eatmyshorts}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(eatmyshorts)
library(BART)
```

## Boston Housing example (from `BART` vignette)


```{r boston}

library(dplyr)
library(ggplot2)
library(BART)
library(tidybayes)
library(tidytreatment)

Boston <- MASS::Boston

X <- Boston[, c(6, 13)]
y <- Boston$medv

bart_model <- wbart(x.train = X, 
                  y.train = y, 
                  nskip = 1000, 
                  ndpost = 1000,
                  nkeeptreedraws = 2)

# # tidy version of fitted draws
# bart_post_fit <- fitted_draws(bart_fit, newdata = X, value = "yhat") %>% 
#   left_join(tibble(y = y, .row = 1:length(y)))
# 
# bart_post_fit %>% ggplot() + geom_ribbon(aes(y = yhat, x = y))

tt1 <- posterior_trees(bart_model)
tt2 <- posterior_trees(bart_model)


```


